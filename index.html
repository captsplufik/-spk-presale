<!-- In HEAD -->
<script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>

<!-- In BODY (where you want the button) -->
<div id="ton-connect" class="ton-connect-btn"></div>

<!-- Before </body> -->
<script>
  // Initialize with your manifest
  const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
    manifestUrl: "https://raw.githubusercontent.com/yourusername/yourrepo/main/tonconnect-manifest.json",
    buttonRootId: "ton-connect",
    language: 'en',
    uiPreferences: {
      theme: 'DARK',
      colors: {
        light: {
          connectButton: {
            background: '#6C4DF6',
            text: '#FFFFFF'
          }
        }
      }
    }
  });

  // Enhanced connection handler
  tonConnectUI.onStatusChange((wallet) => {
    const btn = document.querySelector('.presale-form button');
    if (wallet) {
      console.log("Connected to:", wallet.device.appName);
      btn.disabled = false;
      btn.classList.add('connected');
    } else {
      btn.disabled = true;
      btn.classList.remove('connected');
    }
  });

  // Error handling
  tonConnectUI.onError((error) => {
    console.error("TON Connection Error:", error);
    alert("Wallet connection error. Please try again.");
  });
</script>
